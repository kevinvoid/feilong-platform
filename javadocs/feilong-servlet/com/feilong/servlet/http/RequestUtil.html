<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_112) on Thu Jun 20 00:33:26 CST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RequestUtil (feilong-servlet 1.14.0 API create by feilong)</title>
<meta name="date" content="2019-06-20">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RequestUtil (feilong-servlet 1.14.0 API create by feilong)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":41,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9,"i20":9,"i21":9,"i22":9,"i23":9,"i24":9,"i25":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RequestUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">feilong-servlet 1.14.0 API</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/feilong/servlet/http/RequestException.html" title="class in com.feilong.servlet.http"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/feilong/servlet/http/ResponseDownloadUtil.html" title="class in com.feilong.servlet.http"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/feilong/servlet/http/RequestUtil.html" target="_top">Frames</a></li>
<li><a href="RequestUtil.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.feilong.servlet.http</div>
<h2 title="Class RequestUtil" class="title">Class RequestUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.feilong.servlet.http.RequestUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">RequestUtil</span>
extends <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block"><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http"><code>HttpServletRequest</code></a>工具类.
 
 <h3><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getRequestURI--" title="class or interface in javax.servlet.http"><code>getRequestURI()</code></a> 和 <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getRequestURL--" title="class or interface in javax.servlet.http"><code>getRequestURL()</code></a>:</h3>
 
 <blockquote>
 <table border="1" cellspacing="0" cellpadding="4" summary="">
 <tr style="background-color:#ccccff">
 <th align="left">字段</th>
 <th align="left">返回值</th>
 </tr>
 <tr valign="top">
 <td><span style="color:red">request.getRequestURI()</span></td>
 <td>/feilong/requestdemo.jsp</td>
 </tr>
 <tr valign="top" style="background-color:#eeeeff">
 <td><span style="color:red">request.getRequestURL()</span></td>
 <td>http://localhost:8080/feilong/requestdemo.jsp</td>
 </tr>
 </table>
 </blockquote>
 
 
 <h3>关于从request中获得相关路径和url:</h3>
 
 <blockquote>
 
 <ol>
 <li>getServletContext().getRealPath("/") 后包含当前系统的文件夹分隔符(windows系统是"\",linux系统是"/"),而getPathInfo()以"/"开头.</li>
 <li>getPathInfo()与getPathTranslated()在servlet的url-pattern被设置为/*或/aa/*之类的pattern时才有值,其他时候都返回null.</li>
 <li>在servlet的url-pattern被设置为*.xx之类的pattern时,getServletPath()返回的是getRequestURI()去掉前面ContextPath的剩余部分.</li>
 </ol>
 
 <table border="1" cellspacing="0" cellpadding="4" summary="">
 <tr style="background-color:#ccccff">
 <th align="left">字段</th>
 <th align="left">说明</th>
 </tr>
 
 <tr valign="top">
 <td><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getContextPath--" title="class or interface in javax.servlet.http"><code>HttpServletRequest.getContextPath()</code></a></td>
 <td><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getContextPath--" title="class or interface in javax.servlet.http"><code>HttpServletRequest.getContextPath()</code></a></td>
 </tr>
 
 <tr valign="top" style="background-color:#eeeeff">
 <td><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getPathInfo--" title="class or interface in javax.servlet.http"><code>HttpServletRequest.getPathInfo()</code></a></td>
 <td>Returns any extra path information associated with the URL the client sent when it made this request. <br>
 Servlet访问路径之后,QueryString之前的中间部分</td>
 </tr>
 
 <tr valign="top">
 <td><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getServletPath--" title="class or interface in javax.servlet.http"><code>HttpServletRequest.getServletPath()</code></a></td>
 <td>web.xml中定义的Servlet访问路径</td>
 </tr>
 
 <tr valign="top" style="background-color:#eeeeff">
 <td><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getPathTranslated--" title="class or interface in javax.servlet.http"><code>HttpServletRequest.getPathTranslated()</code></a></td>
 <td>等于getServletContext().getRealPath("/") + getPathInfo()</td>
 </tr>
 
 <tr valign="top">
 <td><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getRequestURI--" title="class or interface in javax.servlet.http"><code>HttpServletRequest.getRequestURI()</code></a></td>
 <td>等于getContextPath() + getServletPath() + getPathInfo()</td>
 </tr>
 
 <tr valign="top">
 <td><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getRequestURL--" title="class or interface in javax.servlet.http"><code>HttpServletRequest.getRequestURL()</code></a></td>
 <td>等于getScheme() + "://" + getServerName() + ":" + getServerPort() + getRequestURI()</td>
 </tr>
 
 <tr valign="top" style="background-color:#eeeeff">
 <td><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getQueryString--" title="class or interface in javax.servlet.http"><code>HttpServletRequest.getQueryString()</code></a></td>
 <td><code>&amp;</code>之后GET方法的参数部分<br>
 Returns the query string that is contained in the request URL after the path. <br>
 This method returns null if the URL does not have a query string. <br>
 Same as the value of the CGI variable QUERY_STRING.</td>
 </tr>
 </table>
 </blockquote>
 
 
 <h3><a href="http://tomcat.apache.org/whichversion.html">Apache Tomcat Versions:</a></h3>
 
 <p>
 Apache Tomcat™ is an open source software implementation of the Java Servlet and JavaServer Pages technologies. <br>
 Different versions of Apache Tomcat are available for different versions of the Servlet and JSP specifications. <br>
 The mapping between the specifications and the respective Apache Tomcat versions is:
 </p>
 
 <blockquote>
 <table border="1" cellspacing="0" cellpadding="4" summary="">
 <tr style="background-color:#ccccff">
 <th align="left">Servlet Spec</th>
 <th align="left">JSP Spec</th>
 <th align="left">EL Spec</th>
 <th align="left">WebSocket Spec</th>
 <th align="left">Apache Tomcat version</th>
 <th align="left">Actual release revision</th>
 <th align="left">Support Java Versions</th>
 </tr>
 
 <tr valign="top">
 <td>4.0</td>
 <td>TBD (2.4?)</td>
 <td>TBD (3.1?)</td>
 <td>TBD (1.2?)</td>
 <td>9.0.x</td>
 <td>9.0.0.M8 (alpha)</td>
 <td>8 and later</td>
 </tr>
 
 <tr valign="top" style="background-color:#eeeeff">
 <td>3.1</td>
 <td>2.3</td>
 <td>3.0</td>
 <td>1.1</td>
 <td>8.5.x</td>
 <td>8.5.3</td>
 <td>7 and later</td>
 </tr>
 
 <tr valign="top">
 <td>3.1</td>
 <td>2.3</td>
 <td>3.0</td>
 <td>1.1</td>
 <td>8.0.x (superseded)</td>
 <td>8.0.35 (superseded)</td>
 <td>7 and later</td>
 </tr>
 
 <tr valign="top" style="background-color:#eeeeff">
 <td>3.0</td>
 <td>2.2</td>
 <td>2.2</td>
 <td>1.1</td>
 <td>7.0.x</td>
 <td>7.0.70</td>
 <td>6 and later<br>
 (7 and later for WebSocket)</td>
 </tr>
 
 <tr valign="top">
 <td>2.5</td>
 <td>2.1</td>
 <td>2.1</td>
 <td>N/A</td>
 <td>6.0.x</td>
 <td>6.0.45</td>
 <td>5 and later</td>
 </tr>
 
 <tr valign="top" style="background-color:#eeeeff">
 <td>2.4</td>
 <td>2.0</td>
 <td>N/A</td>
 <td>N/A</td>
 <td>5.5.x (archived)</td>
 <td>5.5.36 (archived)</td>
 <td>1.4 and later</td>
 </tr>
 
 <tr valign="top">
 <td>2.3</td>
 <td>1.2</td>
 <td>N/A</td>
 <td>N/A</td>
 <td>4.1.x (archived)</td>
 <td>4.1.40 (archived)</td>
 <td>1.3 and later</td>
 </tr>
 
 <tr valign="top" style="background-color:#eeeeff">
 <td>2.2</td>
 <td>1.1</td>
 <td>N/A</td>
 <td>N/A</td>
 <td>3.3.x (archived)</td>
 <td>3.3.2 (archived)</td>
 <td>1.1 and later</td>
 </tr>
 
 </table>
 </blockquote></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="http://feitianbenyue.iteye.com/">feilong</a></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/feilong/servlet/http/RequestAttributes.html" title="class in com.feilong.servlet.http"><code>RequestAttributes</code></a>, 
<a href="../../../../com/feilong/servlet/http/entity/RequestLogSwitch.html" title="class in com.feilong.servlet.http.entity"><code>RequestLogSwitch</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#containsParam-javax.servlet.http.HttpServletRequest-java.lang.String-">containsParam</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
             <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;paramName)</code>
<div class="block">请求路径中是否包含某个参数名称 (注意:这是判断是否包含参数,而不是判断参数值是否为空).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#decodeISO88591String-java.lang.String-java.lang.String-">decodeISO88591String</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;str,
                    <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;charsetType)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">may delete</span></div>
</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#forward-java.lang.String-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">forward</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
       <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
       <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</a>&nbsp;response)</code>
<div class="block">用于将请求转发到 <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html?is-external=true" title="class or interface in javax.servlet"><code>RequestDispatcher</code></a> 对象封装的资源,Servlet程序在调用该方法进行转发之前可以对请求进行前期预处理.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getAttribute-javax.servlet.http.HttpServletRequest-java.lang.String-">getAttribute</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
            <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;attributeName)</code>
<div class="block">获得 attribute.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getAttribute-javax.servlet.http.HttpServletRequest-java.lang.String-java.lang.Class-">getAttribute</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
            <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
            <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;klass)</code>
<div class="block">取到request里面的属性值,<span style="color:green">转换类型成指定的参数 <code>klass</code></span>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getAttributeMap-javax.servlet.http.HttpServletRequest-">getAttributeMap</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">遍历显示request的attribute,将 name /attributeValue 存入到map(TreeMap).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getClientIp-javax.servlet.http.HttpServletRequest-">getClientIp</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">获得客户端真实ip地址.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getHeaderOrigin-javax.servlet.http.HttpServletRequest-">getHeaderOrigin</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">1、Origin字段里只包含是谁发起的请求,并没有其他信息 (通常情况下是方案,主机和活动文档URL的端口).</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getHeaderReferer-javax.servlet.http.HttpServletRequest-">getHeaderReferer</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">获得上个请求的URL.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getHeaderUserAgent-javax.servlet.http.HttpServletRequest-">getHeaderUserAgent</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">User Agent中文名为用户代理,简称 UA.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getOriginatingServletPath-javax.servlet.http.HttpServletRequest-">getOriginatingServletPath</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">Return the servlet path for the given request, detecting an include request URL if called within a RequestDispatcher include.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getParameter-javax.servlet.http.HttpServletRequest-java.lang.String-">getParameter</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
            <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;paramName)</code>
<div class="block">获得request中的请求参数值.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getParameterMap-javax.servlet.http.HttpServletRequest-">getParameterMap</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">获得参数map(结果转成了key自然排序的TreeMap).</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getParameterSingleValueMap-javax.servlet.http.HttpServletRequest-">getParameterSingleValueMap</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">获得请求参数和单值map.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getRequestBody-javax.servlet.http.HttpServletRequest-">getRequestBody</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">获取request body中的内容.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getRequestFullURL-javax.servlet.http.HttpServletRequest-java.lang.String-">getRequestFullURL</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
                 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;charsetType)</code>
<div class="block">获得请求的全地址.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getRequestInfoMapForLog-javax.servlet.http.HttpServletRequest-">getRequestInfoMapForLog</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">将 <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http"><code>HttpServletRequest</code></a> 相关属性,数据转成json格式 以便log显示(目前仅作log使用).</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getRequestInfoMapForLog-javax.servlet.http.HttpServletRequest-com.feilong.servlet.http.entity.RequestLogSwitch-">getRequestInfoMapForLog</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
                       <a href="../../../../com/feilong/servlet/http/entity/RequestLogSwitch.html" title="class in com.feilong.servlet.http.entity">RequestLogSwitch</a>&nbsp;requestLogSwitch)</code>
<div class="block">将request 相关属性,数据转成json格式 以便log显示(目前仅作log使用).</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getRequestURL-javax.servlet.http.HttpServletRequest-">getRequestURL</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">获得请求的?部分前面的地址.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getServerRootWithContextPath-javax.servlet.http.HttpServletRequest-">getServerRootWithContextPath</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">scheme+serverName+port+getContextPath.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#include-java.lang.String-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">include</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
       <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
       <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</a>&nbsp;response)</code>
<div class="block">用于将 <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html?is-external=true" title="class or interface in javax.servlet"><code>RequestDispatcher</code></a> 对象封装的资源内容作为当前响应内容的一部分包含进来,从而实现可编程服务器的服务器端包含功能.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#isAjaxRequest-javax.servlet.http.HttpServletRequest-">isAjaxRequest</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">判断一个请求是否是ajax请求.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#isNotAjaxRequest-javax.servlet.http.HttpServletRequest-">isNotAjaxRequest</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">判断一个请求 ,不是ajax 请求.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#isStaticResource-java.lang.String-">isStaticResource</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;requestURI)</code>
<div class="block">判断请求是否是静态资源.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#isSupportMethod-java.lang.String:A-java.lang.String-">isSupportMethod</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;supportHttpMethods,
               <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;method)</code>
<div class="block">判断传入的<code>method</code> 是否在 支持的<code>supportHttpMethods</code>数组中.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/feilong/servlet/http/RequestUtil.html#isWechatRequest-javax.servlet.http.HttpServletRequest-">isWechatRequest</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</code>
<div class="block">判断一个请求是否是微信浏览器的请求.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isStaticResource-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStaticResource</h4>
<pre>public static&nbsp;boolean&nbsp;isStaticResource(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;requestURI)</pre>
<div class="block">判断请求是否是静态资源.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestURI</code> - the request URI</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果 <code>requestURI</code> 是null或者empty,返回 false<br>
         如果 <code>requestURI</code> 不包含.,返回 false<br>
         其他循环 <a href="../../../../com/feilong/servlet/http/RequestUtil.html#STATIC_RESOURCE_SUFFIX"><code>STATIC_RESOURCE_SUFFIX</code></a> ,忽视大小写判断后缀<br></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.12.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true#getRequestURI--" title="class or interface in javax.servlet.http"><code>HttpServletRequest.getRequestURI()</code></a></dd>
</dl>
</li>
</ul>
<a name="isSupportMethod-java.lang.String:A-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSupportMethod</h4>
<pre>public static&nbsp;boolean&nbsp;isSupportMethod(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;supportHttpMethods,
                                      <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;method)</pre>
<div class="block">判断传入的<code>method</code> 是否在 支持的<code>supportHttpMethods</code>数组中.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>supportHttpMethods</code> - 支持的method 数组</dd>
<dd><code>method</code> - the method</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果 <code>method</code> 是null,抛出 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang"><code>NullPointerException</code></a><br>
         如果 <code>method</code> 是blank,抛出 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a><br>
         如果 <code>supportHttpMethods</code> 是null或者empty,返回 false <br>
         循环 supportHttpMethods, 忽视大小写判断和 method 是否equalsIgnoreCase, 如果是返回true,否则false</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.12.1</dd>
</dl>
</li>
</ul>
<a name="containsParam-javax.servlet.http.HttpServletRequest-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsParam</h4>
<pre>public static&nbsp;boolean&nbsp;containsParam(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
                                    <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;paramName)</pre>
<div class="block">请求路径中是否包含某个参数名称 (注意:这是判断是否包含参数,而不是判断参数值是否为空).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - 请求</dd>
<dd><code>paramName</code> - 参数名称</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>包含该参数返回true,不包含返回false <br>
         如果 <code>paramName</code> 是null,抛出 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang"><code>NullPointerException</code></a><br>
         如果 <code>paramName</code> 是blank,抛出 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a><br></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.4.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>EnumerationUtil.contains(Enumeration, Object)</code></dd>
</dl>
</li>
</ul>
<a name="getParameterMap-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParameterMap</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&gt;&nbsp;getParameterMap(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">获得参数map(结果转成了key自然排序的TreeMap).
 
 <p>
 此方式会将tomcat返回的map 转成TreeMap 返回,便于log; 也可以<span style="color:red">对这个返回的map进行操作</span>
 </p>
 
 <h3>tomcat getParameterMap() <span style="color:red">locked</span>(只能读):</h3>
 
 <blockquote>
 注意:tomcat 默认实现,返回的是 <code>org.apache.catalina.util#ParameterMap&lt;K, V&gt;</code>,tomcat返回之前,会将此map的状态设置为locked,<br>
 
 <p>
 不像普通的map数据一样可以修改.<br>
 这是因为服务器为了实现一定的安全规范,所作的限制,WebLogic,Tomcat,Resin,JBoss等服务器均实现了此规范.
 </p>
 
 不能做以下的map操作:
 
 <ul>
 <li><a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true#clear--" title="class or interface in java.util"><code>Map.clear()</code></a></li>
 <li><a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true#put-K-V-" title="class or interface in java.util"><code>Map.put(Object, Object)</code></a></li>
 <li><a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true#putAll-java.util.Map-" title="class or interface in java.util"><code>Map.putAll(Map)</code></a></li>
 <li><a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true#remove-java.lang.Object-" title="class or interface in java.util"><code>Map.remove(Object)</code></a></li>
 </ul>
 
 </blockquote></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the parameter map</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd>"org.apache.catalina.connector.Request#getParameterMap()"</dd>
</dl>
</li>
</ul>
<a name="getParameterSingleValueMap-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParameterSingleValueMap</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getParameterSingleValueMap(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">获得请求参数和单值map.
 
 <p>
 由于调用的 <a href="../../../../com/feilong/servlet/http/RequestUtil.html#getParameterMap-javax.servlet.http.HttpServletRequest-"><code>getParameterMap(HttpServletRequest)</code></a>结果是<span style="color:green">有序的</span>,
 此方法返回的map也是<span style="color:green">有序的</span>
 </p>
 
 <p>
 由于j2ee<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html?is-external=true#getParameterMap--" title="class or interface in javax.servlet"><code>ServletRequest.getParameterMap()</code></a>返回的map值是数组形式,<br>
 对于一些确认是单值的请求(比如支付宝notify/return request),不便后续处理
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the parameter single value map</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/feilong/servlet/http/RequestUtil.html#getParameterMap-javax.servlet.http.HttpServletRequest-"><code>getParameterMap(HttpServletRequest)</code></a>, 
<code>MapUtil.toSingleValueMap(Map)</code></dd>
</dl>
</li>
</ul>
<a name="getRequestInfoMapForLog-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestInfoMapForLog</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;getRequestInfoMapForLog(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">将 <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http"><code>HttpServletRequest</code></a> 相关属性,数据转成json格式 以便log显示(目前仅作log使用).
 
 <p>
 默认使用 <a href="../../../../com/feilong/servlet/http/entity/RequestLogSwitch.html#NORMAL"><code>RequestLogSwitch.NORMAL</code></a>
 </p>
 
 <h3>示例:</h3>
 <blockquote>
 
 <pre class="code">
 Map<code>&lt;String, Object&gt;</code> requestInfoMapForLog = RequestUtil.getRequestInfoMapForLog(request);}
 LOGGER.debug("class:[{}],request info:{}", getClass().getSimpleName(), JsonUtil.format(requestInfoMapForLog);
 </pre>
 
 输出结果:
 
 <pre class="code">
 19:28:37 DEBUG (AbstractWriteContentTag.java:63) execute() - class:[HttpConcatTag],request info: {
 "requestFullURL": "/member/login.htm?a=b",
 "request.getMethod": "GET",
 "parameterMap": {"a": ["b"]}
 }
 </pre>
 
 </blockquote></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the request string for log</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/feilong/servlet/http/entity/RequestLogSwitch.html" title="class in com.feilong.servlet.http.entity"><code>RequestLogSwitch</code></a>, 
<a href="../../../../com/feilong/servlet/http/RequestUtil.html#getRequestInfoMapForLog-javax.servlet.http.HttpServletRequest-com.feilong.servlet.http.entity.RequestLogSwitch-"><code>getRequestInfoMapForLog(HttpServletRequest, RequestLogSwitch)</code></a></dd>
</dl>
</li>
</ul>
<a name="getRequestInfoMapForLog-javax.servlet.http.HttpServletRequest-com.feilong.servlet.http.entity.RequestLogSwitch-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestInfoMapForLog</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;getRequestInfoMapForLog(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
                                                         <a href="../../../../com/feilong/servlet/http/entity/RequestLogSwitch.html" title="class in com.feilong.servlet.http.entity">RequestLogSwitch</a>&nbsp;requestLogSwitch)</pre>
<div class="block">将request 相关属性,数据转成json格式 以便log显示(目前仅作log使用).
 
 <h3>示例:</h3>
 <blockquote>
 
 <pre class="code">
 RequestLogSwitch requestLogSwitch = RequestLogSwitch.NORMAL;
 Map<code>&lt;String, Object&gt;</code> requestInfoMapForLog = RequestUtil.getRequestInfoMapForLog(request, requestLogSwitch);
 LOGGER.debug("class:[{}],request info:{}", getClass().getSimpleName(), JsonUtil.format(requestInfoMapForLog);
 </pre>
 
 输出结果:
 
 <pre class="code">
 19:28:37 DEBUG (AbstractWriteContentTag.java:63) execute() - class:[HttpConcatTag],request info: {
 "requestFullURL": "/member/login.htm?a=b",
 "request.getMethod": "GET",
 "parameterMap": {"a": ["b"]}
 }
 </pre>
 
 </blockquote></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dd><code>requestLogSwitch</code> - the request log switch</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the request string for log</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>RequestLogBuilder.RequestLogBuilder(HttpServletRequest, RequestLogSwitch)</code></dd>
</dl>
</li>
</ul>
<a name="getAttribute-javax.servlet.http.HttpServletRequest-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttribute</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;T&nbsp;getAttribute(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
                                 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;attributeName)</pre>
<div class="block">获得 attribute.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the generic type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dd><code>attributeName</code> - 属性名称</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果 <code>attributeName</code> 是null,抛出 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang"><code>NullPointerException</code></a><br>
         如果 <code>attributeName</code> 是blank,抛出 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a><br></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.3.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html?is-external=true#getAttribute-java.lang.String-" title="class or interface in javax.servlet"><code>ServletRequest.getAttribute(String)</code></a></dd>
</dl>
</li>
</ul>
<a name="getAttribute-javax.servlet.http.HttpServletRequest-java.lang.String-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttribute</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;T&nbsp;getAttribute(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
                                 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                                 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;klass)</pre>
<div class="block">取到request里面的属性值,<span style="color:green">转换类型成指定的参数 <code>klass</code></span>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the generic type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - 请求</dd>
<dd><code>name</code> - 属性名称</dd>
<dd><code>klass</code> - 需要被转换成的类型</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the attribute</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.3.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>ConvertUtil.convert(Object, Class)</code>, 
<a href="../../../../com/feilong/servlet/http/RequestUtil.html#getAttribute-javax.servlet.http.HttpServletRequest-java.lang.String-"><code>getAttribute(HttpServletRequest, String)</code></a></dd>
</dl>
</li>
</ul>
<a name="getRequestURL-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestURL</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getRequestURL(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">获得请求的?部分前面的地址.
 <p>
 <span style="color:red">自动识别 request 是否 forword</span>,如果是forword过来的,那么取 <a href="../../../../com/feilong/servlet/http/RequestAttributes.html#FORWARD_REQUEST_URI"><code>RequestAttributes.FORWARD_REQUEST_URI</code></a>变量
 </p>
 
 <pre class="code">
 如:http://localhost:8080/feilong/requestdemo.jsp?id=2
 <b>返回:</b>http://localhost:8080/feilong/requestdemo.jsp
 </pre>
 
 注:
 
 <blockquote>
 <table border="1" cellspacing="0" cellpadding="4" summary="">
 <tr style="background-color:#ccccff">
 <th align="left">字段</th>
 <th align="left">返回值</th>
 </tr>
 <tr valign="top">
 <td><span style="color:red">request.getRequestURI()</span></td>
 <td>/feilong/requestdemo.jsp</td>
 </tr>
 <tr valign="top" style="background-color:#eeeeff">
 <td><span style="color:red">request.getRequestURL()</span></td>
 <td>http://localhost:8080/feilong/requestdemo.jsp</td>
 </tr>
 </table>
 </blockquote></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>获得请求的?部分前面的地址</dd>
</dl>
</li>
</ul>
<a name="getOriginatingServletPath-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOriginatingServletPath</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getOriginatingServletPath(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">Return the servlet path for the given request, detecting an include request URL if called within a RequestDispatcher include.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - current HTTP request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the servlet path</dd>
</dl>
</li>
</ul>
<a name="getRequestFullURL-javax.servlet.http.HttpServletRequest-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestFullURL</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getRequestFullURL(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
                                       <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;charsetType)</pre>
<div class="block">获得请求的全地址.
 
 <ul>
 <li>如果request不含queryString,直接返回 requestURL(比如post请求)</li>
 <li>如果request含queryString,直接返回 requestURL+编码后的queryString</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dd><code>charsetType</code> - 字符编码,建议使用 <code>CharsetType</code> 定义好的常量</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如:http://localhost:8080/feilong/requestdemo.jsp?id=2</dd>
</dl>
</li>
</ul>
<a name="decodeISO88591String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeISO88591String</h4>
<pre><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;decodeISO88591String(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;str,
                                                      <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;charsetType)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">may delete</span></div>
<div class="block"><code>CharsetType.ISO_8859_1</code> 的方式去除乱码.
 
 <p>
 <code>CharsetType.ISO_8859_1</code> 是JAVA网络传输使用的标准 字符集
 </p>
 
 <h3>关于URI Encoding</h3>
 
 <blockquote>
 <ul>
 <li>tomcat server.xml Connector URIEncoding="UTF-8"</li>
 <li><code>&lt;fmt:requestEncoding value="UTF-8"/&gt;</code></li>
 </ul>
 </blockquote></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>str</code> - 字符串</dd>
<dd><code>charsetType</code> - 字符编码,建议使用 <code>CharsetType</code> 定义好的常量</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果 <code>str</code> 是null或者empty,返回 <a href="http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html?is-external=true#EMPTY" title="class or interface in org.apache.commons.lang3"><code>StringUtils.EMPTY</code></a><br></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.7.3 move from feilong-core</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd>"org.apache.commons.codec.net.URLCodec#encode(String, String)", 
"org.apache.taglibs.standard.tag.common.fmt.RequestEncodingSupport", 
"org.apache.catalina.filters.SetCharacterEncodingFilter"</dd>
</dl>
</li>
</ul>
<a name="getServerRootWithContextPath-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerRootWithContextPath</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getServerRootWithContextPath(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">scheme+serverName+port+getContextPath.
 
 <p>
 区分 http 和https.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如:http://localhost:8080/feilong/</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd>"org.apache.catalina.connector.Request#getRequestURL()", 
"org.apache.catalina.realm.RealmBase#hasUserDataPermission(Request, Response, SecurityConstraint[])", 
<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpUtils.html?is-external=true#getRequestURL-javax.servlet.http.HttpServletRequest-" title="class or interface in javax.servlet.http"><code>HttpUtils.getRequestURL(HttpServletRequest)</code></a></dd>
</dl>
</li>
</ul>
<a name="forward-java.lang.String-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forward</h4>
<pre>public static&nbsp;void&nbsp;forward(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                           <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
                           <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</a>&nbsp;response)</pre>
<div class="block">用于将请求转发到 <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html?is-external=true" title="class or interface in javax.servlet"><code>RequestDispatcher</code></a> 对象封装的资源,Servlet程序在调用该方法进行转发之前可以对请求进行前期预处理.
 
 <p>
 Forwards a request from a servlet to another resource (servlet, JSP file, or HTML file) on the server.<br>
 This method allows one servlet to do preliminary processing of a request and another resource to generate the response.
 </p>
 
 <p>
 For a <code>RequestDispatcher</code> obtained via <code>getRequestDispatcher()</code>, the <code>ServletRequest</code> object has its
 path elements and parameters adjusted to match the path of the target resource.
 </p>
 
 <p>
 <code>forward</code> should be called before the response has been committed to the client (before response body output has been
 flushed). If the response already has been committed, this method throws an <code>IllegalStateException</code>. Uncommitted output in
 the response buffer is automatically cleared before the forward.
 </p>
 
 <p>
 The request and response parameters must be either the same objects as were passed to the calling servlet's service method or be
 subclasses of the <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequestWrapper.html?is-external=true" title="class or interface in javax.servlet"><code>ServletRequestWrapper</code></a> or <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletResponseWrapper.html?is-external=true" title="class or interface in javax.servlet"><code>ServletResponseWrapper</code></a> classes that wrap them.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path</dd>
<dd><code>request</code> - a <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html?is-external=true" title="class or interface in javax.servlet"><code>ServletRequest</code></a> object that represents the request the client makes of the servlet</dd>
<dd><code>response</code> - a <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletResponse.html?is-external=true" title="class or interface in javax.servlet"><code>ServletResponse</code></a> object,that represents the response the servlet returns to the client</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.2</dd>
</dl>
</li>
</ul>
<a name="include-java.lang.String-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>include</h4>
<pre>public static&nbsp;void&nbsp;include(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                           <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
                           <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</a>&nbsp;response)</pre>
<div class="block">用于将 <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html?is-external=true" title="class or interface in javax.servlet"><code>RequestDispatcher</code></a> 对象封装的资源内容作为当前响应内容的一部分包含进来,从而实现可编程服务器的服务器端包含功能.
 
 <p>
 Includes the content of a resource (servlet, JSP page,HTML file) in the response. <br>
 In essence, this method enables programmatic server-side includes.
 </p>
 
 <p>
 注:被包含的Servlet程序不能改变响应信息的状态码和响应头,如果里面包含这样的语句将被忽略.<br>
 The <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletResponse.html?is-external=true" title="class or interface in javax.servlet"><code>ServletResponse</code></a> object has its path elements and parameters remain unchanged from the caller's. <br>
 The included servlet cannot change the response status code or set headers; any attempt to make a change is ignored.
 </p>
 
 <p>
 The request and response parameters must be either the same objects as were passed to the calling servlet's service method or be
 subclasses of the <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequestWrapper.html?is-external=true" title="class or interface in javax.servlet"><code>ServletRequestWrapper</code></a> or <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletResponseWrapper.html?is-external=true" title="class or interface in javax.servlet"><code>ServletResponseWrapper</code></a> classes that wrap them.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path</dd>
<dd><code>request</code> - a <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html?is-external=true" title="class or interface in javax.servlet"><code>ServletRequest</code></a> object,that contains the client's request</dd>
<dd><code>response</code> - a <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletResponse.html?is-external=true" title="class or interface in javax.servlet"><code>ServletResponse</code></a> object,that contains the servlet's response</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.2</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html?is-external=true#include-javax.servlet.ServletRequest-javax.servlet.ServletResponse-" title="class or interface in javax.servlet"><code>RequestDispatcher.include(ServletRequest, ServletResponse)</code></a>, 
"org.springframework.web.servlet.ResourceServlet"</dd>
</dl>
</li>
</ul>
<a name="getClientIp-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientIp</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getClientIp(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">获得客户端真实ip地址.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>获得客户端ip地址</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd>"org.apache.catalina.valves.RemoteIpValve", 
<a href="http://distinctplace.com/infrastructure/2014/04/23/story-behind-x-forwarded-for-and-x-real-ip-headers/">Story behind
      X-Forwarded-For and X-Real-IP headers</a>, 
<a href="http://lavafree.iteye.com/blog/1559183">nginx做负载CDN加速获取端真实ip</a></dd>
</dl>
</li>
</ul>
<a name="getHeaderUserAgent-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeaderUserAgent</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getHeaderUserAgent(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">User Agent中文名为用户代理,简称 UA.
 
 <p>
 它是一个特殊字符串头,使得服务器能够识别客户使用的操作系统及版本、CPU 类型、浏览器及版本、浏览器渲染引擎、浏览器语言、浏览器插件等.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果request没有指定名称 <a href="../../../../com/feilong/servlet/http/HttpHeaders.html#USER_AGENT"><code>HttpHeaders.USER_AGENT</code></a> 的header,那么返回null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/feilong/servlet/http/HttpHeaders.html#USER_AGENT"><code>HttpHeaders.USER_AGENT</code></a></dd>
</dl>
</li>
</ul>
<a name="getHeaderReferer-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeaderReferer</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getHeaderReferer(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">获得上个请求的URL.
 
 <p>
 referer是浏览器在用户提交请求当前页面中的一个链接时,将当前页面的URL放在头域中提交给服务端的,如当前页面为a.html,
 它里面有一个b.html的链接,当用户要访问b.html时浏览器就会把a.html作为referer发给服务端.
 </p>
 
 <h3>注意:</h3>
 <blockquote>
 请用于常规请求,必须走http/https协议才有值,javascript跳转无效
 
 也就是说要通过&lt;a href=&quot;url&quot;&gt;sss&lt;/a&gt;标记才能获得那个值
 而通过改变location或是&lt;a href=&quot;javascript:location='url'&quot;&gt;sss&lt;/a&gt;都是得不到那个值得
 </blockquote>
 
 <h3>不能正常取值的情况:</h3>
 <blockquote>
 <ol>
 <li>从收藏夹链接</li>
 <li>用Window.open打开地址或者自定义的地址</li>
 <li>利用Jscript的location.href or location.replace()</li>
 <li>在浏览器直接输入地址</li>
 <li>Response.Redirect</li>
 <li>Response.AddHeader或<code>&lt;meta http-equiv=refresh&gt;</code>转向</li>
 </ol>
 </blockquote>
 
 <h3>关于referer的获取问题</h3>
 
 <blockquote>
 在上一页面做跳转操作，可以在下一页面获得上一页面的Referer从而判断页面的来路。
 <br>
 
 目前web开发有以下几种页面跳转方式:
 
 
 <blockquote>
 
 <table border="1" cellspacing="0" cellpadding="4" summary="">
 <tr style="background-color:#ccccff">
 <th align="left">方式</th>
 <th align="left">是否支持跨域</th>
 <th align="left">是否可以取到referer</th>
 <th align="left">代码示例</th>
 </tr>
 
 <tr valign="top">
 <td><a href="https://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html?is-external=true" title="class or interface in javax.servlet"><code>RequestDispatcher</code></a> 跳转</td>
 <td>不支持跨域</td>
 <td>目的页面无法取得referer</td>
 <td>
 
 <pre>
 RequestDispatcher rd = request.getRequestDispatcher(url);
 rd.forward(request, response);
 </pre>
 
 </td>
 </tr>
 
 <tr valign="top" style="background-color:#eeeeff">
 <td>response.setHeader</td>
 <td>支持跨域</td>
 <td>目的页面无法取得referer</td>
 <td>
 
 <pre>
 response.setStatus(HttpServletResponse.SC_MOVED_PERMANENTLY);
 response.setHeader("Location", url);
 </pre>
 
 </td>
 </tr>
 
 
 <tr valign="top">
 <td>response.sendRedirect(url)</td>
 <td>支持跨域</td>
 <td>目的页面无法取得referer</td>
 <td></td>
 </tr>
 
 <tr valign="top" style="background-color:#eeeeff">
 <td>用form表单, post方法提交</td>
 <td>既可跨域</td>
 <td>又能得到referer</td>
 <td>并且支持form表单的action属性中url使用参数</td>
 </tr>
 
 <tr valign="top">
 <td>用form表单, get方法提交</td>
 <td>既可跨域</td>
 <td>又能得到referer</td>
 <td>
 
 但不支持form表单的action属性中url使用参数,<br>
 这种方式不会将action的值后面添加"?"提交到web服务器。<br>
 如果actio中的url就含有"?"则会将"?"后的数据忽略掉。而post方式不存在这个问题
 
 </td>
 </tr>
 
 <tr valign="top" style="background-color:#eeeeff">
 <td>使用html中href来跳转页面</td>
 <td></td>
 <td>目的页面可以获得referer</td>
 <td></td>
 </tr>
 </table>
 
 </blockquote>
 
 </blockquote></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果request没有指定名称 <a href="../../../../com/feilong/servlet/http/HttpHeaders.html#REFERER"><code>HttpHeaders.REFERER</code></a> 的header,那么返回null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/feilong/servlet/http/HttpHeaders.html#REFERER"><code>HttpHeaders.REFERER</code></a>, 
<a href="http://www.blogjava.net/jiangjf/archive/2014/01/27/201339.html">关于referer的获取问题</a></dd>
</dl>
</li>
</ul>
<a name="getHeaderOrigin-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeaderOrigin</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getHeaderOrigin(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">1、Origin字段里只包含是谁发起的请求,并没有其他信息 (通常情况下是方案,主机和活动文档URL的端口). <br>
 跟Referer不一样的是,Origin字段并没有包含涉及到用户隐私的URL路径和请求内容,这个尤其重要. <br>
 2、Origin字段只存在于POST请求,而Referer则存在于所有类型的请求.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果request没有指定名称 <a href="../../../../com/feilong/servlet/http/HttpHeaders.html#ORIGIN"><code>HttpHeaders.ORIGIN</code></a> 的header,那么返回null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/feilong/servlet/http/HttpHeaders.html#ORIGIN"><code>HttpHeaders.ORIGIN</code></a></dd>
</dl>
</li>
</ul>
<a name="isWechatRequest-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isWechatRequest</h4>
<pre>public static&nbsp;boolean&nbsp;isWechatRequest(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">判断一个请求是否是微信浏览器的请求.
 
 <h3>说明:</h3>
 
 <blockquote>
 <ol>
 <li>在iPhone下，返回<br>
 Mozilla/5.0 (iPhone; CPU iPhone OS 5_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Mobile/9B176 MicroMessenger/4.3.2</li>
 
 <li>在Android下，返回<br>
 Mozilla/5.0 (Linux; U; Android 2.3.6; zh-cn; GT-S5660 Build/GINGERBREAD) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile
 Safari/533.1 MicroMessenger/4.5.255
 </li>
 </ol>
 不难发现微信浏览器为 MicroMessenger,并且有版本号,也可以判断手机类型为iPhone还是Android
 </blockquote></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果没有ua,那么返回false;否则判断ua 里面是否包含 micromessenger 值</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.10.4</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://www.cnblogs.com/dengxinglin/archive/2013/05/29/3106004.html">微信浏览器的HTTP_USER_AGENT</a>, 
<a href="https://www.zhihu.com/question/21507953">如何在服务器端判断请求的客户端是微信调用的浏览器？</a></dd>
</dl>
</li>
</ul>
<a name="isAjaxRequest-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAjaxRequest</h4>
<pre>public static&nbsp;boolean&nbsp;isAjaxRequest(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">判断一个请求是否是ajax请求.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果是ajax 请求 返回true</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd>"http://en.wikipedia.org/wiki/X-Requested-With#Requested-With"</dd>
</dl>
</li>
</ul>
<a name="isNotAjaxRequest-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNotAjaxRequest</h4>
<pre>public static&nbsp;boolean&nbsp;isNotAjaxRequest(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">判断一个请求 ,不是ajax 请求.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果不是ajax 返回true</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/feilong/servlet/http/RequestUtil.html#isAjaxRequest-javax.servlet.http.HttpServletRequest-"><code>isAjaxRequest(HttpServletRequest)</code></a></dd>
</dl>
</li>
</ul>
<a name="getAttributeMap-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttributeMap</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;getAttributeMap(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">遍历显示request的attribute,将 name /attributeValue 存入到map(TreeMap).
 
 
 <h3>注意:</h3>
 
 <blockquote>
 <p style="color:red">
 1.目前如果属性有级联关系,如果直接转json,可能会报错,此时建议使用 <code>JsonUtil.formatSimpleMap(Map, Class...)</code>
 </p>
 
 <p>
 2.可以做返回的map进行remove操作,不会影响request的 Attribute
 </p>
 </blockquote></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>如果<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html?is-external=true#getAttributeNames--" title="class or interface in javax.servlet"><code>ServletRequest.getAttributeNames()</code></a> 是null或者empty,返回<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html?is-external=true#emptyMap--" title="class or interface in java.util"><code>Collections.emptyMap()</code></a><br></dd>
</dl>
</li>
</ul>
<a name="getParameter-javax.servlet.http.HttpServletRequest-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParameter</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getParameter(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request,
                                  <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;paramName)</pre>
<div class="block">获得request中的请求参数值.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - 当前请求</dd>
<dd><code>paramName</code> - 参数名称</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>获得request中的请求参数值</dd>
</dl>
</li>
</ul>
<a name="getRequestBody-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRequestBody</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getRequestBody(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</a>&nbsp;request)</pre>
<div class="block">获取request body中的内容.
 
 <h3>使用场景:</h3>
 
 <blockquote>
 wechat notify 的时候数据在 request body 里面,需要提取
 </blockquote>
 
 <h3>说明:</h3>
 <blockquote>
 <ol>
 <li>request.getInputStream(); request.getReader();和request.getParameter("key");<br>
 这三个函数中任何一个函数执行一次后（可正常读取body数据），之后再执行就无效了。</li>
 </ol>
 </blockquote></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the request body</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.10.6</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd>"org.springframework.web.bind.annotation.RequestBody", 
"org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor", 
<a href="https://stackoverflow.com/questions/8100634/get-the-post-request-body-from-httpservletrequest">Get the POST request
      body from HttpServletRequest
      </a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RequestUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">feilong-servlet 1.14.0 API</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/feilong/servlet/http/RequestException.html" title="class in com.feilong.servlet.http"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/feilong/servlet/http/ResponseDownloadUtil.html" title="class in com.feilong.servlet.http"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/feilong/servlet/http/RequestUtil.html" target="_top">Frames</a></li>
<li><a href="RequestUtil.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2008-2019 by feilong</small></p>
</body>
</html>
